<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="icon" href="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/1f916.png">
    <title>Fun & Games with Angular</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/reveal.css">
    <link rel="stylesheet" href="../css/theme/white.css">
    <link rel="stylesheet" href="../lib/css/monokai.css">
    <link rel="stylesheet" href="../lib/css/zenburn.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Roboto+Slab&display=swap" rel="stylesheet">
</head>

<body>
    <div class="reveal">
        <div class="slides">

            <section id="introduction">
                <h3>
                    Fun & Games with Angular
                </h3>
                <img class="image" src="img/video-games.gif">
                <img id="angularIntro" class="image" src="img/angular.png">
                <br>
                <small>
                    Wendy Kong
                    <br>
                    Software Engineer, Pulsifi
                    <br>
                    Lead, Women Who Code KL
                </small>
                <br>
            </section>

            <!-- <section id="demo" data-background-iframe="https://rxjs-playground.netlify.com">
            </section> -->

            <section id="made-with">
                <p>Made with</p>
                <div class="d-flex flex-row align-items-center justify-content-center">
                    <div>
                        <img class="image" width="220" src="img/angular.png">
                    </div>
                    <div class="mx-5">
                        <img class="image heart" width="100" src="img/heart.png">
                    </div>
                    <div>
                        <img class="image mt-1" width="170" src="img/rxjs.png">
                    </div>
                </div>
            </section>

            <section id="rxjs-streams">
                The challenge = handling streams
                <br>
                <video height="400" loop="true" controls autoplay="autoplay" src="img/food-stream.mov" type="video/mp4">
                </video>
                <br>
                <div class="fragment fade-in row justify-content-center mt-3">
                    <span class="pr-5">
                        <img class="image small pl-5" src="img/rxjs.png">
                    </span>
                    <div class="speech-bubble"><small>Hey, I can help!</small></div>
                </div>
            </section>

            <section id="game-explanation">
                Walkthrough
            </section>
            <section id="objectives-0">
                <div class="mb-5">
                    Objectives
                </div>
                <div style="font-size:2.5rem">
                    1) Set a timer
                </div>
            </section>
            <section id="objectives-1">
                <div class="mb-5">
                    Objectives
                </div>
                <div style="font-size:2.5rem">
                    2) Make the items descend from the top of the screen
                </div>
                <video height="400" loop="true" controls autoplay="autoplay" src="img/food-stream.mov" type="video/mp4">
                </video>
            </section>
            <section id="objectives-2">
                <div class="mb-5">
                    Objectives
                </div>
                <div style="font-size:2.5rem">
                    3) Spawn item until time runs out or game is won
                </div>
                <video height="400" loop="true" controls autoplay="autoplay" src="img/timer-stream.mov"
                    type="video/mp4">
                </video>
            </section>
            <section id="objectives-3">
                <div class="mb-5">
                    Objectives
                </div>
                <div style="font-size:2.5rem">
                    4) Respond to click events
                </div>
                <video height="400" loop="true" controls autoplay="autoplay" src="img/click-stream.mov"
                    type="video/mp4">
                </video>
            </section>


            <section id="timing">
                <div style="font-size:2.5rem">
                    1) Set a timer
                </div>

                <div class="fragment fade-in">
                    <div class="fragment fade-out">
                        <div id="spawn-and-game-tracker-takeUntil-2" style="top: 172px;
                            left: 310px;
                            width: 360px;
                            height: 30px;" class="code-highlight">
                        </div>
                        <div class="description-text">emit a value for every time interval</div>
                    </div>
                </div>

                <div class="fragment fade-in">
                    <div class="fragment fade-out">
                        <div id="spawn-and-game-tracker-takeUntil-2" style="top: 200px;
                            left: 300px;
                            width: 700px;
                            height: 40px;" class="code-highlight">
                        </div>
                        <div class="description-text">have a timer countdown</div>
                    </div>
                </div>

                <div class="fragment fade-in">
                    <div class="fragment fade-out">
                        <div id="spawn-and-game-tracker-takeUntil-2" style="top: 235px;
                            left: 0px;
                            width: 650px;
                            height: 30px;" class="code-highlight">
                        </div>
                        <div class="description-text">keep the interval going until timer runs out</div>
                    </div>
                </div>


                <iframe style="margin-top:120px"
                    src="https://carbon.now.sh/embed/?bg=rgba(171%2C%20184%2C%20195%2C%201)&t=night-owl&wt=none&l=javascript&ds=true&dsyoff=20px&dsblur=68px&wc=true&wa=true&pv=0px&ph=0px&ln=false&fm=Hack&fs=18px&lh=133%25&si=false&es=4x&wm=false&code=%2520public%2520timeKeeper(intervalUnit%253A%2520number%2520%253D%25201000)%253A%2520Observable%253Cnumber%253E%2520%257B%250A%2520%2520%2520%2520const%2520timeInterval%2520%253D%2520interval(intervalUnit)%253B%250A%2520%2520%2520%2520const%2520timeRunsOut%2520%253D%2520timer((this.gameDurationInSeconds)%2520*%25201000)%253B%250A%2520%2520%2520%2520timeInterval.pipe(takeUntil(timeRunsOut))%253B%250A%2520%257D"
                    class="code-block">
                </iframe>
            </section>

            <section id="descending">
                <div style="font-size:2.5rem">
                    2) Make the items descend from the top of the screen
                </div>

                <div class="fragment fade-in">
                    <div class="fragment fade-out">
                        <div id="spawn-and-game-tracker-takeUntil-2" style="top: 265px;
                            left: 250px;
                            width: 390px;
                            height: 25px;" class="code-highlight">
                        </div>
                        <div class="description-text">change the y position of a single item</div>
                    </div>
                </div>
                <div class="fragment fade-in">
                    <div class="fragment fade-out">
                        <div id="spawn-and-game-tracker-takeUntil-2" style="top: 215px;
                            left: 250px;
                            width: 350px;
                            height: 25px;" class="code-highlight">
                        </div>
                        <div class="description-text">until it gets clicked on</div>
                    </div>
                </div>
                <div class="fragment fade-in">
                    <div class="fragment fade-out">
                        <div id="spawn-and-game-tracker-takeUntil-2" style="top: 235px;
                            left: 250px;
                            width: 510px;
                            height: 25px;
                        " class="code-highlight">
                        </div>
                        <div class="description-text">...or until the game ends</div>
                    </div>
                </div>

                <iframe style="margin-top:120px"
                    src="https://carbon.now.sh/embed/?bg=rgba(171%2C%20184%2C%20195%2C%201)&t=night-owl&wt=none&l=auto&ds=true&dsyoff=20px&dsblur=68px&wc=true&wa=true&pv=0px&ph=0px&ln=false&fm=Hack&fs=14px&lh=133%25&si=false&es=4x&wm=false&code=const%2520descending%2524%2520%253D%250A%2520%2520%2520%2520this.foodService.timeKeeper(false%252C%2520this.movementInterval)%250A%2520%2520%2520%2520%2520%2520%2520%2520.pipe(%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520takeUntil(this.clickedEvent)%252C%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520takeUntil(this.foodService.timeRunsOut())%252C%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520tap(this.descending.bind(this))%252C%250A%2520%2520%2520%2520%2520%2520%2520%2520)%253B%250Adescending%2524.subscribe()"
                    class="code-block">
                </iframe>
            </section>

            <section id="corny-joke">
                <img class="image small" src="img/corn.png" id="corn">
                <div id="cornText"></div>
                <div id="lameJoke"></div>
            </section>


            <section id="spawn-and-game-tracker">
                <div style="font-size:2.5rem">
                    3) Spawn item until time runs out or game is won
                </div>

                <div class="fragment fade-in">
                    <div class="fragment fade-out">
                        <div id="spawn-and-game-tracker-tap" style="top: 190px;
                        left: 290px;
                        width: 300px;
                        height: 25px;
                    " class="code-highlight">
                        </div>
                        <div class="description-text">creates a random item</div>
                    </div>
                </div>

                <div class="fragment fade-in">
                    <div class="fragment fade-out">
                        <div style="top: 235px;
                        left: 280px;
                        width: 380px;
                        height: 30px;" class="code-highlight">
                        </div>
                        <div class="description-text">keep spawning until time runs out</div>
                    </div>
                </div>

                <div class="fragment fade-in">
                    <div class="fragment fade-out">
                        <div id="spawn-and-game-tracker-takeUntil-2" style="top: 285px;
                            left: 280px;
                            width: 340px;
                            height: 30px;" class="code-highlight">
                        </div>
                        <div class="description-text">...or until the game is won</div>
                    </div>
                </div>

                <div class="fragment fade-in">
                    <div class="fragment fade-out">
                        <div id="spawn-and-game-tracker-takeUntil-2" style="top: 335px;
                            left: 280px;
                            width: 340px;
                            height: 60px;" class="code-highlight">
                        </div>
                        <div class="description-text">game over clean up</div>
                    </div>
                </div>

                <iframe style="margin-top:120px"
                    src="https://carbon.now.sh/embed/?bg=rgba(171%2C%20184%2C%20195%2C%201)&t=night-owl&wt=none&l=auto&ds=true&dsyoff=20px&dsblur=68px&wc=true&wa=true&pv=0px&ph=0px&ln=false&fm=Hack&fs=14px&lh=133%25&si=false&es=4x&wm=false&code=const%2520spawning%2524%2520%253D%2520this.foodService.timeKeeper(true)%250A%2520%2520%2520%2520.pipe(%250A%2520%2520%2520%2520%2520%2520tap(this.spawnItem.bind(this))%252C%250A%2520%2520%2520%2520%2520%2520takeUntil(%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520this.foodService.timeRunsOut())%252C%250A%2520%2520%2520%2520%2520%2520takeUntil(%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520this.foodService.gameWon$)%252C%250A%2520%2520%2520%2520%2520%2520finalize(()%2520%253D%253E%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520this.showGameOver%2520%253D%2520true%253B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520this.items%2520%253D%2520%255B%255D%253B%250A%2520%2520%2520%2520%2520%2520%257D)%252C%250A%2520%2520%2520%2520)%253B%250A%250Aspawning%2524.subscribe()"
                    class="code-block">
                </iframe>
            </section>


            <section id="click-event">
                <div style="font-size:2.5rem">
                    4) Respond to click events
                </div>

                <div class="fragment fade-in">
                    <div class="fragment fade-out">
                        <div style="top: 135px;
                        left: 280px;
                        width: 620px;
                        height: 30px;" class="code-highlight">
                        </div>
                        <div class="description-text">streaming click events</div>
                    </div>
                </div>

                <div class="fragment fade-in">
                    <div class="fragment fade-out">
                        <div style="top: 285px;
                        left: 140px;
                        width: 600px;
                        height: 30px;" class="code-highlight">
                        </div>
                        <div class="description-text">checking orders each time</div>
                    </div>
                </div>

                <iframe style="margin-top:120px"
                    src="https://carbon.now.sh/embed/?bg=rgba(171%2C%20184%2C%20195%2C%201)&t=night-owl&wt=none&l=auto&ds=true&dsyoff=20px&dsblur=68px&wc=true&wa=true&pv=0px&ph=0px&ln=false&fm=Hack&fs=14px&lh=133%25&si=false&es=4x&wm=false&code=this.clickedEvent%2520%253D%2520fromEvent(this.itemComponent.nativeElement%252C'click')%253B%250Athis.clickedEvent.subscribe(this.clickedItem.bind(this))%253B%250A%250AclickedItem()%2520%257B%250A%2520%2520%2520%2520%252F%252F%2520...%250A%2520%2520%2520%2520const%2520orderFulfilled%2520%253D%250A%2520%2520%2520%2520%2520%2520%2520%2520this.foodService.checkIsOrderFulfilled(this.name)%253B%250A%2520%2520%2520%2520%252F%252F%2520...%250A%257D"
                    class="code-block">
                </iframe>
            </section>

            <section id="update-order">
                <div style="font-size:2.5rem">
                    4) Respond to click events
                </div>

                <div class="fragment fade-in">
                    <div class="fragment fade-out">
                        <div style="top: 190px;
                        left: 210px;
                        width: 350px;
                        height: 25px;" class="code-highlight">
                        </div>
                        <div style="top: 290px;
                        left: 160px;
                        width: 360px;
                        height: 25px;" class="code-highlight">
                        </div>
                        <div class="description-text">updating the scores</div>
                    </div>
                </div>

                <div class="fragment fade-in">
                    <div class="fragment fade-out">
                        <div style="top: 265px;
                        left: 165px;
                        width: 280px;
                        height: 25px" class="code-highlight">
                        </div>
                        <div class="description-text">updating the order</div>
                    </div>
                </div>

                <div class="fragment fade-in">
                    <div class="fragment fade-out">
                        <div style="top: 340px;
                        left: 160px;
                        width: 680px;
                        height: 25px;" class="code-highlight">
                        </div>
                        <div style="top: 390px;
                        left: 210px;
                        width: 370px;
                        height: 25px;" class="code-highlight">
                        </div>
                        <div class="description-text">check if all orders are completed</div>
                    </div>
                </div>

                <iframe style="margin-top:120px"
                    src="https://carbon.now.sh/embed/?bg=rgba(171%2C%20184%2C%20195%2C%201)&t=night-owl&wt=none&l=auto&ds=true&dsyoff=20px&dsblur=68px&wc=true&wa=true&pv=0px&ph=0px&ln=false&fm=Hack&fs=14px&lh=133%25&si=false&es=4x&wm=false&code=updateOrder(foundOrder%253A%2520Item%2520%253D%2520null)%253A%2520void%2520%257B%250A%2520%2520%2520%2520%2520if%2520(!foundOrder)%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520this.score%2520-%253D%2520this.scoreUnit%253B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520return%253B%250A%2520%2520%2520%2520%2520%257D%250A%2520%2520%2520%2520%2520foundOrder.done%2520%253D%2520true%253B%250A%2520%2520%2520%2520%2520this.score%2520%252B%253D%2520this.scoreUnit%253B%250A%250A%2520%2520%2520%2520%2520const%2520orderFulfilled%2520%253D%2520this.orders%255B0%255D.every(x%2520%253D%253E%2520x.done)%253B%250A%2520%2520%2520%2520%2520if%2520(orderFulfilled)%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520this.ordersCompleted%2524.next(1)%253B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520this.orders.shift()%253B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520this.score%2520%252B%253D%2520(this.scoreUnit%2520*%25202)%253B%250A%2520%2520%2520%2520%2520%257D%250A%2520%257D"
                    class="code-block">
                </iframe>
            </section>

            <section id="takeaways">
                <code>import from 'rxjs'</code>
                <br>
                <small class="mr-3">Observable</small>
                <small class="mr-3">ReplaySubject</small>
                <small class="mr-3">interval</small>
                <small class="mr-3">timer</small>
                <br>
                <code>import from 'rxjs/operators'</code>
                <br>
                <small class="mr-3">delay</small>
                <small class="mr-3">finalize</small>
                <small class="mr-3">fromEvent</small>
                <small class="mr-3">takeUntil</small>
                <small class="mr-3">tap</small>
            </section>

            <section id="end">
                Thank you for listening!
                <br>
                <img class="image" src="https://media.tenor.com/images/d7ff43c4bad2da81dca001a9e5006273/tenor.gif">
                <div style="font-size:1.5rem">
                    <div class="mb-3">
                        Reference
                        <br>
                        <a href="http://learnrxjs.io/">learnrxjs.io</a>
                    </div>
                    <div class="mb-3">
                        Game & source code
                        <br>
                        <a href="https://rxjs-playground.netlify.com">rxjs-playground.netlify.com</a>
                        <br>
                        <a href="https://github.com/wendko/rxjs-playground">github.com/wendko/rxjs-playground</a>
                    </div>
                    <div>
                        @wendko
                    </div>
                </div>
            </section>

        </div>
    </div>

    <script src="../js/reveal.js"></script>
    <script src="../config.js"></script>
    <script src="../plugin/highlight/highlight.js"></script>
</body>

</html>